<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
  <link href="style.css" rel="stylesheet" type="text/css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <title>Inscripcion</title>
</head>

<body>

  <div class="bg-deepBlue">

    <div class="container">
      <h1 align="center" style="padding: 15px 10px 5px 10px; font-weight: 600;">Archero</h1>
    </div>
    <hr>

  </div>

  <div class="container">

    <a href="inicio.html" class="btn btn-coral">Volver</a>

    <div class="container">

      <br>
      <h2 align="center"><b>Competici贸n en Loja</b></h2>
      <br>
      <p align="center"><a href="podio.html" class="btn btn-coral"
          style="padding-right: 60px; padding-left: 60px">Clasificaci贸n</a></p>
    </div>
  </div>

  <div class="container d-flex flex-column justify-content-between" style="padding: 10%">

    <h3>Tu puntuaci贸n: </h3>
    <div class="card">
      <div class="row" style="padding: 10px">
        <div class="col-6">
          <p id="numRondasElem" style="margin:0">Rondas: </p>
          <p id="puntTotal" style="margin:0">Puntuaci贸n total:</p>
        </div>
        <div class="col-6">
          <p id="numeros9" style="margin:0">Numeros 9: </p>
          <p id="numeros10" style="margin:0">Numeros 10: </p>
        </div>
      </div>
    </div>
    <br>
    <br>

    <h4>Resultados de la ronda 1/12</h4>
    <div class="container">
      <div class="row three" align="center" style="padding: 5px">
        <div class="col-6">
          <p id="flecha1" style="margin: 0">Flecha 1: </p>
          <p id="flecha2" style="margin: 0">Flecha 2: </p>
          <p id="flecha3" style="margin: 0">Flecha 3: </p>

        </div>
        <div class="col-6">
          <p id="flecha4" style="margin: 0">Flecha 4: </p>
          <p id="flecha5" style="margin: 0">Flecha 5: </p>
          <p id="flecha6" style="margin: 0">Flecha 6: </p>
        </div>
      </div>
    </div>

    <br>
    <br>
    <button onclick="iniciarRonda()" id="btnRonda" class="btn btn-danger" style="margin-top:5vh">Iniciar ronda
      1</button>
  </div>
</body>

<script>
  var numeroRonda;
  var numeroDeRondaMostrado = 0;

  scoreTotal = localStorage.getItem('scoreTotal');
  if (!scoreTotal) localStorage.setItem('scoreTotal', 0);

  numeros9 = localStorage.getItem('numeros9');
  if (!numeros9) localStorage.setItem('numeros9', 0);

  numeros10 = localStorage.getItem('numeros10');
  if (!numeros10) localStorage.setItem('numeros10', 0);


  numeroRonda = localStorage.getItem('numeroRonda');
  if (!numeroRonda) {
    numeroRonda = 1;
    localStorage.setItem('numeroRonda', 1);
  } else {
    updateRondaValues();
    updateIniciarButton();
    if (numeroRonda > 12) {
      document.getElementById("btnRonda").disabled = true;
    }
  }

  function iniciarRonda() {
    //numeroRonda++;
    //localStorage.setItem('numeroRonda', numeroRonda);
    updateIniciarButton();
    window.location.href = "ronda.html";

  }

  function updateIniciarButton() {
    if (numeroRonda >= 12) {
      btnIniciar = document.getElementById("btnRonda");
      btnIniciar.innerText = "Fin de la competencia";
    } else {
      btnIniciar = document.getElementById("btnRonda");
      btnIniciar.innerText = "Iniciar ronda " + numeroRonda;
    }
  }

  function updateRondaValues() {
    document.getElementById("flecha1").innerHTML = "Flecha 1: " + localStorage.getItem("flecha1");
    document.getElementById("flecha2").innerHTML = "Flecha 2: " + localStorage.getItem("flecha2");
    document.getElementById("flecha3").innerHTML = "Flecha 3: " + localStorage.getItem("flecha3");
    document.getElementById("flecha4").innerHTML = "Flecha 4: " + localStorage.getItem("flecha4");
    document.getElementById("flecha5").innerHTML = "Flecha 5: " + localStorage.getItem("flecha5");
    document.getElementById("flecha6").innerHTML = "Flecha 6: " + localStorage.getItem("flecha6");

    numeroDeRondaMostrado = parseInt(localStorage.getItem("numeroRonda")) - 1;
    document.getElementById("numRondasElem").innerHTML = "Rondas: " + numeroDeRondaMostrado + "/12";
    document.getElementById("puntTotal").innerHTML = "Punt. total: " + localStorage.getItem("scoreTotal");
    document.getElementById("numeros9").innerHTML = "Numeros 9: " + localStorage.getItem("numeros9");
    document.getElementById("numeros10").innerHTML = "Numeros 10: " + localStorage.getItem("numeros10");
  }

</script>

</html>